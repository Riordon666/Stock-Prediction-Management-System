<!doctype html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>股票分析 - 股票分析与预测管理系统</title>
    <link rel="icon" href="{{ url_for('static', filename='favicon.ico') }}" />
    <link rel="stylesheet" href="{{ url_for('static', filename='css/common.css') }}" />
    <link rel="stylesheet" href="{{ url_for('static', filename='css/analysis.css') }}" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>

</head>

<body>
    <div class="container">
        <div class="topbar">
            <div class="brand">
                <div class="logo" aria-hidden="true"></div>
                <div style="min-width: 0;">
                    <h1>股票分析与预测系统</h1>
                </div>
            </div>

            <nav class="topnav" aria-label="主导航">
                <a class="nav-item" href="/">首页</a>
                <a class="nav-item" href="/analysis">股票分析</a>
                <a class="nav-item" href="/predict">股票预测</a>
            </nav>

            <label class="switch">
                <input id="input" type="checkbox" />
                <div class="slider round">
                    <div class="sun-moon">
                        <svg id="moon-dot-1" class="moon-dot" viewBox="0 0 100 100">
                            <circle cx="50" cy="50" r="50"></circle>
                        </svg>
                        <svg id="moon-dot-2" class="moon-dot" viewBox="0 0 100 100">
                            <circle cx="50" cy="50" r="50"></circle>
                        </svg>
                        <svg id="moon-dot-3" class="moon-dot" viewBox="0 0 100 100">
                            <circle cx="50" cy="50" r="50"></circle>
                        </svg>
                        <svg id="light-ray-1" class="light-ray" viewBox="0 0 100 100">
                            <circle cx="50" cy="50" r="50"></circle>
                        </svg>
                        <svg id="light-ray-2" class="light-ray" viewBox="0 0 100 100">
                            <circle cx="50" cy="50" r="50"></circle>
                        </svg>
                        <svg id="light-ray-3" class="light-ray" viewBox="0 0 100 100">
                            <circle cx="50" cy="50" r="50"></circle>
                        </svg>

                        <svg id="cloud-1" class="cloud-dark" viewBox="0 0 100 100">
                            <circle cx="50" cy="50" r="50"></circle>
                        </svg>
                        <svg id="cloud-2" class="cloud-dark" viewBox="0 0 100 100">
                            <circle cx="50" cy="50" r="50"></circle>
                        </svg>
                        <svg id="cloud-3" class="cloud-dark" viewBox="0 0 100 100">
                            <circle cx="50" cy="50" r="50"></circle>
                        </svg>
                        <svg id="cloud-4" class="cloud-light" viewBox="0 0 100 100">
                            <circle cx="50" cy="50" r="50"></circle>
                        </svg>
                        <svg id="cloud-5" class="cloud-light" viewBox="0 0 100 100">
                            <circle cx="50" cy="50" r="50"></circle>
                        </svg>
                        <svg id="cloud-6" class="cloud-light" viewBox="0 0 100 100">
                            <circle cx="50" cy="50" r="50"></circle>
                        </svg>
                    </div>
                    <div class="stars">
                        <svg id="star-1" class="star" viewBox="0 0 20 20">
                            <path
                              d="M 0 10 C 10 10,10 10 ,0 10 C 10 10 , 10 10 , 10 20 C 10 10 , 10 10 , 20 10 C 10 10 , 10 10 , 10 0 C 10 10,10 10 ,0 10 Z"
                            ></path>
                        </svg>
                        <svg id="star-2" class="star" viewBox="0 0 20 20">
                            <path
                              d="M 0 10 C 10 10,10 10 ,0 10 C 10 10 , 10 10 , 10 20 C 10 10 , 10 10 , 20 10 C 10 10 , 10 10 , 10 0 C 10 10,10 10 ,0 10 Z"
                            ></path>
                        </svg>
                        <svg id="star-3" class="star" viewBox="0 0 20 20">
                            <path
                              d="M 0 10 C 10 10,10 10 ,0 10 C 10 10 , 10 10 , 10 20 C 10 10 , 10 10 , 20 10 C 10 10 , 10 10 , 10 0 C 10 10,10 10 ,0 10 Z"
                            ></path>
                        </svg>
                        <svg id="star-4" class="star" viewBox="0 0 20 20">
                            <path
                              d="M 0 10 C 10 10,10 10 ,0 10 C 10 10 , 10 10 , 10 20 C 10 10 , 10 10 , 20 10 C 10 10 , 10 10 , 10 0 C 10 10,10 10 ,0 10 Z"
                            ></path>
                        </svg>
                    </div>
                </div>
            </label>
        </div>

        <section class="section">
            <div class="card">
                <div class="card-header">
                    <h2>智能股票分析</h2>
                    <div class="hint">数据来源：<a href="https://www.tushare.pro/" target="_blank">Tushare</a>,<a href="https://akshare.akfamily.xyz/" target="_blank">Akshare</a>,<a href="http://baostock.com/" target="_blank">Baostock</a></div>
                </div>

                <form id="analysis-form" class="analysis-form">
                    <div class="analysis-form-row">
                        <div class="input-group input-group-sm field-code">  <!-- 添加input-group-sm使输入框更小 -->
                            <span class="input-group-text">股票代码</span>
                            <input type="text" class="form-control" id="stock-code" placeholder="例: 600519，更多请看下方示例" required>
                        </div>

                        <div class="input-group input-group-sm field-market">  <!-- 添加input-group-sm使下拉框更小 -->
                            <span class="input-group-text">市场</span>
                            <select class="form-select" id="market-type">
                                <option value="A" selected>A股</option>
                                <option value="HK">港股</option>
                                <option value="US">美股</option>
                            </select>
                        </div>

                        <div class="input-group input-group-sm field-horizon">  <!-- 添加input-group-sm使下拉框更小 -->
                            <span class="input-group-text">周期</span>
                            <select class="form-select" id="analysis-period">
                                <option value="1m">1个月</option>
                                <option value="3m">3个月</option>
                                <option value="6m">6个月</option>
                                <option value="1y" selected>1年</option>
                            </select>
                        </div>

                        <div class="analysis-action">
                            <button type="submit" class="btn btn-primary btn-sm analysis-submit">
                                <i class="fas fa-chart-line"></i> 分析
                            </button>
                        </div>
                    </div>

                    <div id="analysis-error"></div>

                    <div class="introduction-row">
                        <div class="introduction">常见的A股及其股票代码(点击代码即可复制)：
                            <ul>
                                <li>中国平安：<span class="ticker-code" data-code="601318">601318</span></li>
                                <li>五粮液：<span class="ticker-code" data-code="000858">000858</span></li>
                                <li>贵州茅台：<span class="ticker-code" data-code="600519">600519</span></li>

                                <li>中国联通：<span class="ticker-code" data-code="600050">600050</span></li>
                                <li>比亚迪：<span class="ticker-code" data-code="002594">002594</span></li>
                                <li>宁德时代：<span class="ticker-code" data-code="300750">300750</span></li>

                                <li>中国中免：<span class="ticker-code" data-code="601888">601888</span></li>
                                <li>工商银行：<span class="ticker-code" data-code="601398">601398</span></li>
                                <li>伊利股份：<span class="ticker-code" data-code="600887">600887</span></li>

                                <li>中国中车：<span class="ticker-code" data-code="601766">601766</span></li>
                                <li>恒瑞医药：<span class="ticker-code" data-code="600276">600276</span></li>
                                <li>中信证券：<span class="ticker-code" data-code="600030">600030</span></li>

                                <li>中国中铁：<span class="ticker-code" data-code="601390">601390</span></li>
                                <li>兴业银行：<span class="ticker-code" data-code="601166">601166</span></li>
                                <li>招商银行：<span class="ticker-code" data-code="600036">600036</span></li>

                                <li>中国神华：<span class="ticker-code" data-code="601088">601088</span></li>
                                <li>美的集团：<span class="ticker-code" data-code="000333">000333</span></li>
                                <li>格力电器：<span class="ticker-code" data-code="000651">000651</span></li>

                                <li>中国石油：<span class="ticker-code" data-code="601857">601857</span></li>
                                <li>长江电力：<span class="ticker-code" data-code="600900">600900</span></li>
                                <li>隆基绿能：<span class="ticker-code" data-code="601012">601012</span></li>

                                <li>中国石化：<span class="ticker-code" data-code="600028">600028</span></li>
                                <li>万华化学：<span class="ticker-code" data-code="600309">600309</span></li>
                                <li>三一重工：<span class="ticker-code" data-code="600031">600031</span></li>

                                <li>农业银行：<span class="ticker-code" data-code="601288">601288</span></li>
                                <li>东方财富：<span class="ticker-code" data-code="300059">300059</span></li>
                                <li>上汽集团：<span class="ticker-code" data-code="600104">600104</span></li>

                                <li>平安银行：<span class="ticker-code" data-code="000001">000001</span></li>
                                <li>海康威视：<span class="ticker-code" data-code="002415">002415</span></li>
                                <li>立讯精密：<span class="ticker-code" data-code="002475">002475</span></li>
                            </ul>
                        </div>
                        <div class="introduction">常见的港股及其股票代码(点击代码即可复制)：
                            <ul>
                                <li>中国移动：<span class="ticker-code" data-code="00941">00941</span></li>
                                <li>腾讯控股：<span class="ticker-code" data-code="00700">00700</span></li>
                                <li>哔哩哔哩-W：<span class="ticker-code" data-code="09626">09626</span></li>

                                <li>中国银行：<span class="ticker-code" data-code="03988">03988</span></li>
                                <li>美团-W：<span class="ticker-code" data-code="03690">03690</span></li>
                                <li>小米集团-W：<span class="ticker-code" data-code="01810">01810</span></li>

                                <li>中国平安：<span class="ticker-code" data-code="02318">02318</span></li>
                                <li>建设银行：<span class="ticker-code" data-code="00939">00939</span></li>
                                <li>汇丰控股：<span class="ticker-code" data-code="00005">00005</span></li>

                                <li>中国人寿：<span class="ticker-code" data-code="02628">02628</span></li>
                                <li>工商银行：<span class="ticker-code" data-code="01398">01398</span></li>
                                <li>香港交易所：<span class="ticker-code" data-code="00388">00388</span></li>

                                <li>中国石油股份：<span class="ticker-code" data-code="00857">00857</span></li>
                                <li>友邦保险：<span class="ticker-code" data-code="01299">01299</span></li>
                                <li>京东集团-SW：<span class="ticker-code" data-code="09618">09618</span></li>

                                <li>中国石化：<span class="ticker-code" data-code="00386">00386</span></li>
                                <li>中国海洋石油：<span class="ticker-code" data-code="00883">00883</span></li>
                                <li>快手-W：<span class="ticker-code" data-code="01024">01024</span></li>

                                <li>中国神华：<span class="ticker-code" data-code="01088">01088</span></li>
                                <li>网易-S：<span class="ticker-code" data-code="09999">09999</span></li>
                                <li>理想汽车-W：<span class="ticker-code" data-code="02015">02015</span></li>

                                <li>中国联通：<span class="ticker-code" data-code="00762">00762</span></li>
                                <li>比亚迪股份：<span class="ticker-code" data-code="01211">01211</span></li>
                                <li>小鹏汽车-W：<span class="ticker-code" data-code="09868">09868</span></li>

                                <li>中国电信：<span class="ticker-code" data-code="00728">00728</span></li>
                                <li>百度集团-SW：<span class="ticker-code" data-code="09888">09888</span></li>
                                <li>蔚来-SW：<span class="ticker-code" data-code="09866">09866</span></li>

                                <li>中芯国际：<span class="ticker-code" data-code="00981">00981</span></li>
                                <li>阿里巴巴-SW：<span class="ticker-code" data-code="09988">09988</span></li>
                                <li>华润置地：<span class="ticker-code" data-code="01109">01109</span></li>
                            </ul>
                        </div>
                        <div class="introduction">常见的美股及其股票代码(点击代码即可复制)：
                            <ul>
                                <li>苹果：<span class="ticker-code" data-code="AAPL">AAPL</span></li>
                                <li>微软：<span class="ticker-code" data-code="MSFT">MSFT</span></li>
                                <li>英伟达：<span class="ticker-code" data-code="NVDA">NVDA</span></li>

                                <li>亚马逊：<span class="ticker-code" data-code="AMZN">AMZN</span></li>
                                <li>谷歌：<span class="ticker-code" data-code="GOOGL">GOOGL</span></li>
                                <li>Meta：<span class="ticker-code" data-code="META">META</span></li>

                                <li>伯克希尔-B：<span class="ticker-code" data-code="BRK.B">BRK.B</span></li>
                                <li>摩根大通：<span class="ticker-code" data-code="JPM">JPM</span></li>
                                <li>Visa：<span class="ticker-code" data-code="V">V</span></li>

                                <li>万事达：<span class="ticker-code" data-code="MA">MA</span></li>
                                <li>美国银行：<span class="ticker-code" data-code="BAC">BAC</span></li>
                                <li>联合健康：<span class="ticker-code" data-code="UNH">UNH</span></li>

                                <li>埃克森美孚：<span class="ticker-code" data-code="XOM">XOM</span></li>
                                <li>可口可乐：<span class="ticker-code" data-code="KO">KO</span></li>
                                <li>百事可乐：<span class="ticker-code" data-code="PEP">PEP</span></li>

                                <li>沃尔玛：<span class="ticker-code" data-code="WMT">WMT</span></li>
                                <li>好市多：<span class="ticker-code" data-code="COST">COST</span></li>
                                <li>迪士尼：<span class="ticker-code" data-code="DIS">DIS</span></li>

                                <li>奈飞：<span class="ticker-code" data-code="NFLX">NFLX</span></li>
                                <li>AMD：<span class="ticker-code" data-code="AMD">AMD</span></li>
                                <li>英特尔：<span class="ticker-code" data-code="INTC">INTC</span></li>

                                <li>甲骨文：<span class="ticker-code" data-code="ORCL">ORCL</span></li>
                                <li>高通：<span class="ticker-code" data-code="QCOM">QCOM</span></li>
                                <li>台积电：<span class="ticker-code" data-code="TSM">TSM</span></li>

                                <li>星巴克：<span class="ticker-code" data-code="SBUX">SBUX</span></li>
                                <li>波音：<span class="ticker-code" data-code="BA">BA</span></li>
                                <li>辉瑞：<span class="ticker-code" data-code="PFE">PFE</span></li>

                                <li>麦当劳：<span class="ticker-code" data-code="MCD">MCD</span></li>
                                <li>ASML：<span class="ticker-code" data-code="ASML">ASML</span></li>
                                <li>特斯拉：<span class="ticker-code" data-code="TSLA">TSLA</span></li>
                            </ul>
                        </div>
                    </div>

                    <div class="mobile-hint mobile-only">注：手机端因篇幅仅展示部分股票代码示例，建议使用PC端以查看更多股票代码示例。</div>
                </form>

            </div>
        </section>

        <div id="analysis-loading" class="analysis-loading" style="display: none;">
            <div class="loading-wave">
                <div class="loading-bar"></div>
                <div class="loading-bar"></div>
                <div class="loading-bar"></div>
                <div class="loading-bar"></div>
            </div>
            <div class="analysis-loading-progress">
                <div class="progress analysis-progress">
                    <div id="analysis-progress-bar" class="progress-bar" role="progressbar" style="width: 0%"></div>
                </div>
                <div id="analysis-progress-text" class="analysis-progress-text">0%</div>
            </div>
        </div>

        <div id="analysis-result" style="display: none;">
        <div class="row g-3 mb-3">
            <div class="col-12">
                <div class="summary-grid">
                    <div class="card h-100">
                        <div class="card-body">
                            <div class="summary-price">
                                <div class="summary-price-top">
                                    <div class="summary-price-meta">
                                        <h2 id="stock-name"></h2>
                                        <p id="stock-info" class="text-muted small"></p>
                                    </div>
                                    <div class="summary-price-quote">
                                        <h3 id="stock-price"></h3>
                                        <p id="price-change"></p>
                                    </div>
                                </div>
                                <div class="summary-reco">
                                    <div class="text-muted small">投资建议</div>
                                    <div id="recommendation" class="metric-value"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card h-100">
                        <div class="card-header py-2">
                            <h5 class="mb-0">综合评分</h5>
                        </div>
                        <div class="card-body">
                            <div id="score-gauge" style="height: 180px;"></div>
                            <div id="total-score" style="display:none"></div>
                        </div>
                    </div>

                    <div class="card h-100">
                        <div class="card-header py-2">
                            <h5 class="mb-0">关键指标</h5>
                        </div>
                        <div class="card-body">
                            <div class="metric-grid">
                                <div class="metric-item">
                                    <div class="metric-label">RSI</div>
                                    <div id="rsi-value" class="metric-value"></div>
                                </div>
                                <div class="metric-item">
                                    <div class="metric-label">均线趋势</div>
                                    <div id="ma-trend" class="metric-value"></div>
                                </div>
                                <div class="metric-item">
                                    <div class="metric-label">MACD</div>
                                    <div id="macd-signal" class="metric-value"></div>
                                </div>
                                <div class="metric-item">
                                    <div class="metric-label">波动率</div>
                                    <div id="volatility" class="metric-value"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row g-3 mb-3">
            <div class="col-12">
                <div class="card">
                    <div class="chart-tabs" role="tablist" aria-label="图表切换">
                        <button class="chart-tab active" type="button" data-tab="price">价格趋势</button>
                        <button class="chart-tab" type="button" data-tab="indicators">技术指标</button>
                        <button class="chart-tab" type="button" data-tab="volume">成交量</button>
                    </div>
                    <div class="card-body p-0">
                        <div id="chart-panel-price" class="chart-panel active">
                            <div id="price-trend-chart" style="height: 420px;"></div>
                        </div>
                        <div id="chart-panel-indicators" class="chart-panel">
                            <div id="indicators-chart" style="height: 420px;"></div>
                        </div>
                        <div id="chart-panel-volume" class="chart-panel">
                            <div id="volume-chart" style="height: 420px;"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row g-3 mb-3">
            <div class="col-md-7">
                <div class="card h-100">
                    <div class="card-header py-2">
                        <h5 class="mb-0">支撑与压力位</h5>
                    </div>
                    <div class="card-body">
                        <table class="table table-sm">
                            <thead>
                                <tr>
                                    <th>类型</th>
                                    <th>价格</th>
                                    <th>距离</th>
                                </tr>
                            </thead>
                            <tbody id="support-resistance-table">
                                <!-- 支撑压力位数据将在JS中动态填充 -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="col-md-5">
                <div class="card h-100">
                    <div class="card-header py-2">
                        <h5 class="mb-0">多维度评分</h5>
                    </div>
                    <div class="card-body">
                        <div id="radar-chart" style="height: 220px;"></div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row g-3 mb-3">
            <div class="col-12">
                <div class="card">
                    <div class="card-header py-2">
                        <h5 class="mb-0">AI分析报告</h5>
                    </div>
                    <div class="card-body">
                        <div id="ai-analysis" class="analysis-section">
                            <!-- AI分析结果将在JS中动态填充 -->
                            <div class="loading">
                                <div class="spinner-border text-primary" role="status">
                                    <span class="visually-hidden">Loading...</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

        <footer class="site-footer">
            <div class="site-footer-inner">
                <div class="site-footer-top">
                    <div class="copyright">
                        © 2026 基于 Flask 的股票预测管理系统设计与实现
                    </div>

                    <div class="footer-links" aria-label="页脚链接">
                        <a class="footer-link" href="https://github.com/Riordon666/Stock-Prediction-Management-System" target="_blank" rel="noopener" aria-label="访问 GitHub 源代码">
                            <svg class="footer-icon" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                                <path fill="currentColor" d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.455-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0 1 12 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.748-1.026 2.748-1.026.546 1.378.202 2.397.1 2.65.64.7 1.028 1.595 1.028 2.688 0 3.848-2.338 4.695-4.566 4.943.36.31.68.923.68 1.86 0 1.342-.012 2.422-.012 2.752 0 .268.18.58.688.482A10.019 10.019 0 0 0 22 12.017C22 6.484 17.523 2 12 2Z"/>
                            </svg>
                            <span>源代码</span>
                        </a>
                        <a class="footer-link" href="http://mail.riordon.xyz" target="_blank" aria-label="发送邮件到作者邮箱">
                            <svg class="footer-icon" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                                <path fill="currentColor" d="M20 4H4c-1.103 0-2 .897-2 2v12c0 1.103.897 2 2 2h16c1.103 0 2-.897 2-2V6c0-1.103-.897-2-2-2Zm0 4.236-7.382 4.92a1 1 0 0 1-1.11 0L4 8.236V6l8 5.333L20 6v2.236Z"/>
                            </svg>
                            <span>联系邮箱：任意字符@riordon.xyz</span>
                        </a>
                    </div>
                </div>

                <div class="disclaimer">
                    注意事项：本系统为个人设计与研究项目，仅用于学习与学术研究用途，不构成任何投资建议。<br>
                    股票数据来源于公开市场，预测结果可能存在误差，仅供参考。<br>
                    投资有风险，入市需谨慎!
                </div>
            </div>
        </footer>
    </div>

    <script src="{{ url_for('static', filename='js/common.js') }}"></script>
    <script src="{{ url_for('static', filename='js/analysis.js') }}"></script>


</body>
</html>